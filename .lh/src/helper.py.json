{
    "sourceFile": "src/helper.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1765620049282,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1765620102314,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,3 +1,6 @@\n from langchain_community.document_loaders import DirectoryLoader\r\n from langchain_community.document_loaders import PyPDFLoader\r\n-from langchain_text_splitters import RecursiveCharacterTextSplitter\n\\ No newline at end of file\n+from langchain_text_splitters import RecursiveCharacterTextSplitter\r\n+from langchain.embeddings import HuggingFaceEmbeddings\r\n+from typing import List\r\n+from langchain.schema import Document\n\\ No newline at end of file\n"
                },
                {
                    "date": 1765620480781,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,5 +2,15 @@\n from langchain_community.document_loaders import PyPDFLoader\r\n from langchain_text_splitters import RecursiveCharacterTextSplitter\r\n from langchain.embeddings import HuggingFaceEmbeddings\r\n from typing import List\r\n-from langchain.schema import Document\n\\ No newline at end of file\n+from langchain_core.documents import Document\r\n+\r\n+\r\n+#Extract data from the pdf fle \r\n+\r\n+def load_pdf_file(data):\r\n+    loader=DirectoryLoader(data,\r\n+                           glob=\"*.pdf\",\r\n+                           loader_cls=PyPDFLoader)\r\n+    documents=loader.load()\r\n+    return documents\n\\ No newline at end of file\n"
                },
                {
                    "date": 1765620518296,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,10 +7,13 @@\n \r\n \r\n #Extract data from the pdf fle \r\n \r\n-def load_pdf_file(data):\r\n-    loader=DirectoryLoader(data,\r\n-                           glob=\"*.pdf\",\r\n-                           loader_cls=PyPDFLoader)\r\n-    documents=loader.load()\r\n-    return documents\n\\ No newline at end of file\n+def load_pdf_files(data_path):\r\n+    loader = DirectoryLoader(\r\n+        data_path,\r\n+        glob=\"*.pdf\",\r\n+        loader_cls=PyPDFLoader\r\n+    )\r\n+    return loader.load()\r\n+\r\n+extracted_data = load_pdf_files(r\"D:\\Desktop\\medical chatbot\\data\")\n\\ No newline at end of file\n"
                },
                {
                    "date": 1765621212553,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,62 @@\n+from langchain_community.document_loaders import DirectoryLoader\r\n+from langchain_community.document_loaders import PyPDFLoader\r\n+from langchain_text_splitters import RecursiveCharacterTextSplitter\r\n+from langchain.embeddings import HuggingFaceEmbeddings\r\n+from typing import List\r\n+from langchain_core.documents import Document\r\n+\r\n+\r\n+#Extract data from the pdf fle \r\n+\r\n+def load_pdf_files(data_path):\r\n+    loader = DirectoryLoader(\r\n+        data_path,\r\n+        glob=\"*.pdf\",\r\n+        loader_cls=PyPDFLoader\r\n+    )\r\n+    return loader.load()\r\n+\r\n+extracted_data = load_pdf_files(r\"D:\\Desktop\\medical chatbot\\data\")\r\n+\r\n+\r\n+\r\n+def filter_to_minimal_docs(docs:List[Document])->List[Document]:\r\n+    \"\"\"Given a list of Document objects, return a new list of documents objects\r\n+    containing only 'source' in metadata and the original page_content\"\"\"\r\n+\r\n+    minimal_docs:List[Document]=[]\r\n+    \r\n+    for doc in docs:\r\n+        src=doc.metadata.get(\"source\")\r\n+        minimal_docs.append(\r\n+            Document(\r\n+                page_content=doc.page_content,\r\n+                metadata={\"source\":src}\r\n+            )\r\n+        )\r\n+    return minimal_docs\r\n+\r\n+\r\n+#split the documents into smaller chunks\r\n+def text_split(minimal_docs):\r\n+    text_splitter=RecursiveCharacterTextSplitter(\r\n+        chunk_size=500,  #\tChunk → बड़े टेक्स्ट को manageable बनाता है।\r\n+        chunk_overlap=20, # Chunk Overlap → context loss रोकता है, ताकि model को समझने में मदद मिले।\r\n+        \r\n+    )\r\n+\r\n+    texts_chunk= text_splitter.split_documents(minimal_docs)\r\n+    return texts_chunk\r\n+\r\n+\r\n+from langchain_community.embeddings import HuggingFaceEmbeddings\r\n+\r\n+def download_embeddings():\r\n+\r\n+    model_name = \"sentence-transformers/all-MiniLM-L6-v2\"\r\n+    embeddings = HuggingFaceEmbeddings(\r\n+        model_name=model_name,\r\n+        \r\n+    )\r\n+\r\n+    return embeddings\r\n"
                },
                {
                    "date": 1765621276505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,9 @@\n     return texts_chunk\r\n \r\n \r\n from langchain_community.embeddings import HuggingFaceEmbeddings\r\n-\r\n+#download the embeddings from hugging face\r\n def download_embeddings():\r\n \r\n     model_name = \"sentence-transformers/all-MiniLM-L6-v2\"\r\n     embeddings = HuggingFaceEmbeddings(\r\n@@ -59,23 +59,4 @@\n         \r\n     )\r\n \r\n     return embeddings\r\n-from langchain_community.document_loaders import DirectoryLoader\r\n-from langchain_community.document_loaders import PyPDFLoader\r\n-from langchain_text_splitters import RecursiveCharacterTextSplitter\r\n-from langchain.embeddings import HuggingFaceEmbeddings\r\n-from typing import List\r\n-from langchain_core.documents import Document\r\n-\r\n-\r\n-#Extract data from the pdf fle \r\n-\r\n-def load_pdf_files(data_path):\r\n-    loader = DirectoryLoader(\r\n-        data_path,\r\n-        glob=\"*.pdf\",\r\n-        loader_cls=PyPDFLoader\r\n-    )\r\n-    return loader.load()\r\n-\r\n-extracted_data = load_pdf_files(r\"D:\\Desktop\\medical chatbot\\data\")\n\\ No newline at end of file\n"
                },
                {
                    "date": 1765623233533,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n from langchain_community.document_loaders import DirectoryLoader\r\n from langchain_community.document_loaders import PyPDFLoader\r\n from langchain_text_splitters import RecursiveCharacterTextSplitter\r\n-from langchain.embeddings import HuggingFaceEmbeddings\r\n+from langchain_huggingface import HuggingFaceEmbeddings\r\n from typing import List\r\n from langchain_core.documents import Document\r\n \r\n \r\n"
                },
                {
                    "date": 1765634392963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,9 @@\n from langchain_community.document_loaders import DirectoryLoader\r\n from langchain_community.document_loaders import PyPDFLoader\r\n from langchain_text_splitters import RecursiveCharacterTextSplitter\r\n from langchain_huggingface import HuggingFaceEmbeddings\r\n+\r\n from typing import List\r\n from langchain_core.documents import Document\r\n \r\n \r\n"
                }
            ],
            "date": 1765620049281,
            "name": "Commit-0",
            "content": "from langchain_community.document_loaders import DirectoryLoader\r\nfrom langchain_community.document_loaders import PyPDFLoader\r\nfrom langchain_text_splitters import RecursiveCharacterTextSplitter"
        }
    ]
}